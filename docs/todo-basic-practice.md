# 基本練習モード実装 TODO

## 概要
基本練習モードは個別ワード練習を行う機能です。TypeLighterのように1つずつワードを表示し、正確性とスピードを重視した練習を行います。

## 実装タスク

### 1. 基本練習画面の実装
- [x] ワード表示コンポーネントの実装
- [x] 入力フィールドと入力状態管理
- [x] 正解・不正解の判定ロジック
- [x] 次のワードへの進行制御

### 2. 練習セッション管理
- [ ] 練習セッションの開始・終了管理
- [ ] ワード順序の制御（順番・ランダム・間違えたワードを優先など）
- [x] 練習進捗の表示（何問目/全何問）
- [ ] 中断・再開機能

### 3. リアルタイム入力分析
- [ ] キーストローク詳細記録（キー・タイミング・正誤）
- [ ] リアルタイム入力速度計算（WPM/CPM）
- [ ] 入力ミスのハイライト表示
- [ ] 入力予測と先行入力の処理

### 4. 練習結果の記録
- [ ] `WordPracticeRecord` テーブルへの記録機能
- [ ] 各ワードの練習結果保存
  - 正解率
  - 入力時間
  - キーストローク詳細
  - ミスタイプの内容
- [ ] セッション全体の統計情報

### 5. データベース操作の実装
- [ ] 基本練習用のrouter実装 (`basic-practice-router.ts`)
- [ ] ワード取得API（お題IDから練習用ワード一覧）
- [ ] 練習記録保存API
- [ ] 練習履歴取得API

### 6. UI/UX改善
- [ ] 練習中の視覚的フィードバック
- [ ] エラー時のアニメーション
- [ ] 完了時の結果表示
- [ ] キーボードショートカット対応
- [ ] レスポンシブデザイン

### 7. 設定とカスタマイズ
- [ ] 練習設定の保存・読み込み
- [ ] ワード表示順序の選択
- [ ] 練習時間の設定
- [ ] 難易度フィルター

### 8. テスト実装
- [ ] 基本練習ロジックのユニットテスト
- [ ] キーストローク記録のテスト
- [ ] データベース操作のテスト

## 実装優先順位

### 高優先度（まず実装）
1. 基本練習ページの骨組み
2. ワード表示と入力判定
3. データベースからのワード取得

### 中優先度（基本機能完成後）
4. キーストローク詳細記録
5. 練習結果の保存
6. 基本的なUI改善

### 低優先度（機能拡張）
7. 高度な設定機能
8. アニメーションと視覚効果

## 技術的考慮事項

### パフォーマンス
- キーストローク記録は大量データになるため効率的な保存方法を検討
- リアルタイム計算処理の最適化

### ユーザビリティ
- 入力ミスの視覚的フィードバック
- 練習の中断・再開を考慮した設計
- キーボード操作のみで完結する操作性

### データ設計
- 練習記録の効率的な保存形式
- 統計データの事前計算vs動的計算の判断

## 次のステップ
まずは基本練習ページの作成から始めて、シンプルなワード表示・入力判定機能を実装します。データベースとの連携は段階的に追加していきます。